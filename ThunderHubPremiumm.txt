local allowedPlayers = {"x4x4cker", "kledigx1", "ex_250x12", "ZacharyWilcox23", "alan11ago", "i_owd2", "MrAWAY_lol", "THEBATMANBOIZ_2", "SealTheThicSeal", "IsntWill"}

if table.find(allowedPlayers, game.Players.LocalPlayer.Name) then
    -- Code to be executed if the player is allowed
local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Rayfield/main/source'))()

local Window = Rayfield:CreateWindow({
   Name = "Thunder Hub - xanto da best",
   LoadingTitle = "Thunder Hub Premium",
   LoadingSubtitle = "by xanto #6129",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil,
      FileName = "Big Hub"
   },
   Discord = {
      Enabled = false,
      Invite = "6qnsY3anmm", 
      RememberJoins = false 
   },
   KeySystem = true, -- Set this to true to use our key system
   KeySettings = {
      Title = "Thunder Hub",
      Subtitle = "Key System",
      Note = "Join the discord (https://discord.gg/6qnsY3anmm)",
      FileName = "ThunderKey",
      SaveKey = false,
      GrabKeyFromSite = false, -- If this is true, set Key below to the RAW site you would like Rayfield to get the key from
      Key = "xanto123"
   }
})

local Tab = Window:CreateTab("Generate Art", 4483362458)

local Tab2 = Window:CreateTab("Destroy GUI", 4483362458)

local Button = Tab2:CreateButton({
   Name = "Destroy the GUI",
   Callback = function()
      		local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Rayfield/main/source'))()
            Rayfield:Destroy()
   end,
})

local resolutionX = 32 -- usually it's 32 but it might change depending on the frame?
local resolutionY = 32 -- usually it's 32 but it might change depending on the frame?
local grid = nil
local s, e = pcall(function()
    if game.Players.LocalPlayer.PlayerGui:FindFirstChild'MainGui':FindFirstChild'PaintFrame':FindFirstChild'Grid' then
        grid = game.Players.LocalPlayer.PlayerGui.MainGui.PaintFrame.Grid
    elseif game.Players.LocalPlayer.PlayerGui:FindFirstChild'PaintFrame':FindFirstChild'GridHolder':FindFirstChild'Grid' then
        grid = game.Players.LocalPlayer.PlayerGui.MainGui.PaintFrame.GridHolder.Grid
    else
        warn('cannot execute script')
        return
    end
end)
if e then
    local s1, e1 = pcall(function()
        grid = game.Players.LocalPlayer.PlayerGui.MainGui.PaintFrame.GridHolder.Grid
    end)
    if e1 then
        warn('cannot execute script')
        return
    end
end

function getjson(url)
    local begin = game:HttpGet("https://f818fcf9-3b10-4c92-8176-0bef47a8421d.id.repl.co/get?url="..url)
    if (begin == 'the file size is too big!') then
        return 'fstb'
    else
        local json = game:GetService('HttpService'):JSONDecode(begin)
        return json
    end
end

function import(url)
    local pixels = getjson(url)
    if (pixels == 'fstb') then
        game.StarterGui:SetCore(
            "SendNotification",
            {
                Title = "error",
                Text = "the file size exceeds three megabytes, to prevent people from crashing my vps i have set the cap to amount. sorry for the inconvenience"
            }
        )
    else
        grid['1'].BackgroundColor3 = Color3.fromRGB(
            pixels[1][1],
            pixels[1][2],
            pixels[1][3]
        )
        local index = 1
        for y = 1, resolutionX, 1 do
            for x = 1, resolutionY, 1 do
                pcall(function()
                    local pixel = pixels[index]
                    index = index + 1
                    local r = pixels[index][1]
                    local g = pixels[index][2]
                    local b = pixels[index][3]
                    grid[tostring(index)].BackgroundColor3 = Color3.fromRGB(r, g, b)
                end)
            end
        end
        game.StarterGui:SetCore(
            "SendNotification",
            {
                Title = "xanto",
                Text = "art generated, check the drawing grid"
            }
        )
    end
end

    local Input = Tab:CreateInput({
        Name = "Image URL",
        PlaceholderText = "Put Image URL",
        RemoveTextAfterFocusLost = false,
        Callback = function(Value)
            import(Value)
        end,      
    })
end